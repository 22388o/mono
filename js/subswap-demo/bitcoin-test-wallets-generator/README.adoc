= Bitcoin Test Wallets Generator

A Bitcoin test wallet's generator to help bitcoin programmers.


== Features

* Generate six wallets (Alice, Bob, Carol, Dave Eve, Mallory)
* Create a json file detailing all the cryptographic materials
* Import private keys to Bitcoin Core


== Requirements

* >= NodeJS v10
* https://stedolan.github.io/jq/download/[jq - JSON processor]
* Bash or a Bash interpreter like Cygwin or Windows Subsystem for Linux (WSL)


== How to use it

First launch Bitcoin Core so that the library can import the private keys.

NOTE: By default, the library is set to the regtest network and uses hardcoded 16 bytes entropy.

 npx bitcointestwalletsgenerator

or

 git clone git@github.com:bitcoin-studio/bitcoin-test-wallets-generator.git
 node generate_wallets.js

{nbsp}

Run with a new set of entropy

NOTE: 16 bytes entropy = 12 words mnemonic +
32 bytes entropy = 24 words mnemonic

 npx bitcointestwalletsgenerator --entropy 16

{nbsp}

Set the network

 npx bitcointestwalletsgenerator --network mainnet

{nbsp}

Set the network and entropy

 npx bitcointestwalletsgenerator -n testnet -e 32

{nbsp}

Verbose

 npx bitcointestwalletsgenerator -v

{nbsp}

Help

 npx bitcointestwalletsgenerator --help

{nbsp}

Check that private key import was successful with the `listlabels` command in Bitcoin Core console





The first script is a Node.js program that generates Bitcoin wallets for Alice, Bob, Carol, Dave, Eve, and Mallory. It does the following:

1. Parses command-line arguments with the commander library.
2. Uses the crypto library to generate entropy for each wallet.
3. Converts the entropy to a mnemonic phrase using the bip39 library.
4. Converts the mnemonic phrase to a seed using the bip39 library.
5. Derives a BIP32 master key from the seed using the bip32 library.
6. Derives three child keys from the master key for each wallet, each with a different address type (P2PKH, P2SH-P2WPKH, and P2WPKH).
7. Logs the private and public keys, WIFs, and addresses for each key.
8. Writes all of the wallet information to a JSON file.
9. Runs a shell script to import the private keys into Bitcoin Core.

The second script is a Bash script that imports the private keys generated by the first script into a Bitcoin Core wallet for each user. It does the following:

1. Defines a die function for handling errors and a help function for printing usage information.
2. Parses command-line arguments with a while loop that uses the getopts command.
3. Reads the Bitcoin Core data directory from the command-line arguments and sets a default if one is not provided.
4. Defines an array of wallet names.
5. Reads the wallets.json file generated by the first script to get the private keys for each wallet.
6. Uses jq to extract the private keys from the wallets.json file and loop over each key.
7. For each private key, generates descriptors for each address type and imports them into the corresponding wallet in Bitcoin Core.
8. Generates 101 blocks to ensure that the imported UTXOs are confirmed.
9. Logs the descriptor information for each address type for each private key.
10. Lists all of the descriptors for each wallet.